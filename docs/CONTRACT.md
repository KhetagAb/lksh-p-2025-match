# Match

> ### Cтруктура проекта MVP
> ### Базы данных
>  База данных`players` всех `заинтересованных` спортом школьников, когда-либо участвующих в сменах ЛКШ с момента запуска приложения:
>
> - `username` - никнейм пользователя (является пустым на стадии разработки MVP)
 >- `password` - пароль пользователя (является пустым на стадии разработки MVP)
>- `teams_list` - список `id` команд, в которых состоит пользователь (является пустым на стадии разработки MVP)
> - `surname` - фамилия пользователя
> - `name` - имя пользователя
> - `id` - внутренний идентификатор core сервиса
> - `tg_id` - перманентный идентификатор в телеграмме 
>    - необходимо для того чтобы не обрабатывать ситуация изменения никнейма пользователя
> ---
>  База данных`SIStema_player` всех присутствующих на данной смене ЛКШ (подгружается, заполнена данными, которые были указаны участниками ранее):
>
> - `tg_username` - никнейм пользователя
> - `surname` - фамилия пользователя
> - `name` - имя пользователя
>

### Ручки
Ручка`validate_register_user`, проверяет существования школьника по `tg_username`

_**Как делает?**_
В параметрах ручки поступает `@tg_username`, по которому проводится поиск в базе данных `SIStema_player`
- если существует пользователь с необходимым `@tg_username` существует, то ручка отдает соответствующие `surname` и `name`: узнает, действительно ли пользователь с необходимым `@tg_username` есть тот, кем он записан в `SIStema_player` - в случае дальнейшего положительного ответа ручка отдает положительный результат, в ином случае пользователю сообщают об ошибке, с возможностью обращения к разработчикам

- если такого пользователя не обнаружилось, то ручка возвращает ошибку (с возможностью обращения к разработчикам)

---
 Ручка`register_user`, регистрирующая пользователей в системе

 _**Как делает?**_
Для начала вызывает ручку `validate_register_user` с теми же параметрами, затем в случае успеха добавляет данного пользователя в базу данных `player`

_**Что произойдет, если `validate_register_user` вернет ошибку?**_
Происходит возращение (пробрасывание) назад с сообщением об ошибке

---
 Ручка`get_all_sport_section`, выдающая список всех возможных `секций` спорта, подразумевающей под собой `виды` спорта

_**Как выдает?**_
в формате JSON по ключу `name`

_**Что надо продумать?**_
приватные виды спорта, на которые могут регистрироваться не все

---

Ручка`get_players_by_sport_section`, дающая возможность получить список всех игроков по значению строки, обозначающую спортивную секцию 


_**Зачем?**_
Пользователи хотят поучаствовать в каком-нибудь виде спорта, хотят посмотреть зарегистрированы ли их друзья куда-нибудь и если да, то присоединиться к ним

_**Что надо продумать?**_
приватные виды спорта, на которые могут регистрироваться не все

_**В каком формате выдает данные?**_
в формате `JSON` в виде списка

_**Что надо продумать?**_
Как хранить зарегистрированных пользователей на данную секцию
---
Ручка`register_player_in_sport_section`, принимающую `id` человека (внутреннего идентификатора core) и регистрирующая его на вид спорта, указанный в запросе по строке

_**Что возвращает?**_
если пользователь успешно был зарегистрирован, то возвращается `ok`, иначе ошибка, которая _отображается пользователю_
